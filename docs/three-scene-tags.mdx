# Three.js Scene Tags — In-Depth Explanation

Every tag you see inside the `<Canvas>` component is **not native HTML**. They are custom JSX elements provided by **React Three Fiber** (`@react-three/fiber`) and **Drei** (`@react-three/drei`). React Three Fiber acts as a bridge between React's declarative component model and Three.js's imperative 3D engine. When you write `<ambientLight />` in JSX, React Three Fiber translates that into `new THREE.AmbientLight()` behind the scenes.

Think of it this way: regular React renders to the **DOM** (divs, spans, buttons). React Three Fiber renders to a **WebGL canvas** (lights, meshes, cameras). The tags look like HTML, but they produce 3D objects.

---

## Lights

### `<ambientLight />`

**What it is:**
A light that illuminates every surface in the scene equally, from every direction. It has no position, no direction, and casts no shadows. It is the "baseline brightness" of your world.

**Why it matters:**
Without ambient light, any surface not directly facing a point light or spotlight would be pitch black. Ambient light prevents this by filling in the "dark gaps."

**Key Prop:**
- `intensity` — A number controlling how bright the light is. At `0`, the light is off. At `1`, it is full strength. You set it to `0.5`, meaning every surface gets a gentle 50% fill light.

**Real-world analogy:**
Imagine you are in a room with no windows and no lamps. Ambient light is like the soft glow that somehow still lets you see the walls. It is not coming from anywhere specific; it just exists everywhere.

**Use case for tweaking:**
- Increase `intensity` to `0.8` or `1.0` if your model looks too dark or the shadows are too harsh.
- Decrease it to `0.2` or `0.1` if you want a more dramatic, high-contrast look where lights and shadows are clearly defined.
- Set the `color` prop (e.g., `color="#ffeedd"`) to tint the entire scene with a warm or cool tone.

---

### `<pointLight />`

**What it is:**
A light that radiates outward from a single point in all directions, like a bare lightbulb floating in space. Unlike ambient light, it has a **position** in 3D space, and surfaces closer to it will be brighter than surfaces further away.

**Key Props:**
- `position={[10, 10, 10]}` — This is an `[x, y, z]` coordinate. Your light is placed at 10 units to the right, 10 units up, and 10 units toward the camera. This creates a "top-right-front" illumination.
- `intensity` — Same concept as ambient light. At `1`, this is a full-strength point source.

**Real-world analogy:**
A bare lightbulb hanging from the ceiling. It throws light in every direction from that one point. Objects closer to it are brighter; objects further away are dimmer.

**Use case for tweaking:**
- Move the `position` to change where the highlights and shadows fall on your model. For example, `[0, 20, 0]` would place the light directly above, creating a "noon sun" effect.
- Add `castShadow` prop if you want the light to produce shadows (more expensive to render).
- Add `distance` prop to limit how far the light reaches (e.g., `distance={50}`).
- Add `decay` prop to control how quickly the light fades over distance (`decay={2}` is physically accurate).

---

### `<spotLight />`

**What it is:**
A light that emits from a single point in a specific **cone-shaped direction**, like a flashlight or a theater spotlight. It combines the positional nature of a point light with directional focus.

**Key Props:**
- `position={[-10, 10, 10]}` — Placed at the top-left-front of your scene. This creates a secondary light source from a different angle than the point light, adding depth.
- `angle={0.15}` — The width of the cone, in **radians**. `0.15` is a very tight, focused beam (about 8.6 degrees). Increasing this widens the cone. `Math.PI / 4` (45 degrees) would be a very wide floodlight.
- `penumbra={1}` — Controls the softness of the cone's edge. `0` means a hard, sharp cutoff (like a laser). `1` means the light gradually fades to zero at the edge of the cone, creating a very soft, natural falloff. You have it at max softness.

**Real-world analogy:**
A desk lamp or a stage spotlight. It points in one direction, has a defined "pool" of light, and the edges of that pool can be sharp or soft.

**Use case for tweaking:**
- Increase `angle` to `0.3` or `0.5` for a wider pool of light.
- Decrease `penumbra` to `0.3` for a harder-edged spotlight effect.
- Add `target` prop to aim the spotlight at a specific object or position.
- Add `castShadow` for dramatic shadow effects (useful for product photography aesthetics).

---

## 3D Object Rendering

### `<primitive />`

**What it is:**
A special React Three Fiber escape hatch. It takes an **already-created Three.js object** and injects it directly into the scene graph. You use it because your OBJ/MTL loader returns a raw Three.js `Group` object, and there is no dedicated JSX tag for arbitrary loaded models.

**Key Props:**
- `object={clonedObj}` — The actual Three.js object instance to render. In your case, this is the loaded and cloned OBJ model. Cloning is important because Three.js objects can only exist in one place in the scene graph at a time; if you tried to reuse the same object in two cards, the second would "steal" it from the first.
- `scale={scale}` — A uniform scaling factor. Your default is `0.015`, which shrinks the model to 1.5% of its original size. OBJ files exported from Fusion 360 are often in millimeters, so a 1000mm model would appear as 1000 units in Three.js — far too large. Scaling down brings it into the camera's comfortable viewing range.

**Why not a regular mesh?**
A `<mesh>` in React Three Fiber expects you to define geometry and material separately as children. But an OBJ file is already a complete hierarchy of meshes, materials, and groups. `<primitive>` lets you drop that entire pre-built hierarchy into the scene without deconstructing it.

**Use case for tweaking:**
- Change `scale` to make the model larger or smaller. Try `scale={0.02}` or `scale={0.01}` and observe the difference.
- Add `rotation={[0, Math.PI / 4, 0]}` to set an initial rotation angle (in radians). This is useful if the model's "front" is not facing the camera by default.
- Add `position={[0, -1, 0]}` to shift the model downward if it appears too high in the frame.

---

## Layout Helpers

### `<Center>`

**What it is:**
A component from **@react-three/drei** (not from Three.js itself). It automatically calculates the bounding box of all its children and translates them so their geometric center sits at `[0, 0, 0]`. This solves a very common problem: models exported from CAD software are almost never centered at the origin. They might be offset by hundreds of units in any direction.

**Why it matters:**
Without `<Center>`, your model might appear far off to the side or completely outside the camera's view. You would have to manually inspect the model's bounding box and calculate the offset yourself. `<Center>` does this automatically.

**Key Props (not currently used):**
- `top` — Align the model so its bottom sits at `y=0` (useful for placing objects "on the ground").
- `left`, `right`, `front`, `back` — Align to specific edges instead of centering.
- `precise` — Use a more expensive but exact bounding box calculation.

**Use case for tweaking:**
- If you want the model to sit "on a table" rather than floating in space, use `<Center top>`. This keeps it horizontally centered but vertically aligned so the bottom edge is at `y=0`.
- If you want to offset it after centering, wrap it in a `<group position={[0, 1, 0]}>` parent.

---

## Camera Controls

### `<OrbitControls />`

**What it is:**
A component from **@react-three/drei** that gives the user the ability to rotate, zoom, and pan the camera around a focal point using mouse or touch input. It replaces the need to manually code camera movement logic.

**Key Props:**
- `enableZoom={true}` — Allows the user to scroll to zoom in and out. Set to `false` to lock the zoom level.
- `autoRotate` — When present (boolean `true`), the camera slowly orbits around the target point automatically. This is what creates the "spinning model" effect in your cards.
- `autoRotateSpeed={0.5}` — How fast the auto-rotation moves. The default is `2`. At `0.5`, it is very slow and subtle, which is appropriate for a portfolio card where the motion should be atmospheric, not distracting.
- `makeDefault` — Registers this as the default controls instance for the canvas. This is important when you have other components that might try to control the camera; `makeDefault` ensures OrbitControls takes priority.

**Interaction Model:**
- **Left-click drag** — Orbits the camera around the center point.
- **Right-click drag** — Pans the camera (moves the focal point).
- **Scroll wheel** — Zooms in and out.
- **Touch: one finger** — Orbit. **Two fingers** — Zoom and pan.

**Key Props (not currently used):**
- `enablePan={false}` — Disables panning. Useful for a portfolio card where you want the model to always stay centered.
- `enableRotate={false}` — Disables manual rotation. The model would only spin via `autoRotate`.
- `minDistance` / `maxDistance` — Limits how close or far the user can zoom. Useful to prevent them from zooming "inside" the model or too far away.
- `minPolarAngle` / `maxPolarAngle` — Limits the vertical orbit range. Setting both to `Math.PI / 2` would lock the camera to a horizontal plane (no looking from above or below).
- `target={[0, 0, 0]}` — The point the camera orbits around. By default, it is the origin.

**Use case for tweaking:**
- For the small preview cards, consider `enablePan={false}` and `enableRotate={false}` so users cannot accidentally drag the model off-center. Keep `autoRotate` for the ambient spinning effect.
- For the full-screen details page, keep all interactions enabled so users can freely explore the model.
- Increase `autoRotateSpeed` to `1.5` or `2` for a more dynamic presentation, or decrease to `0.2` for an almost imperceptible drift.

---

## Summary Table

| Tag | Source | Native Three.js? | Purpose |
|---|---|---|---|
| `ambientLight` | React Three Fiber | Yes (maps to `THREE.AmbientLight`) | Even, directionless fill light |
| `pointLight` | React Three Fiber | Yes (maps to `THREE.PointLight`) | Omnidirectional light from a point |
| `spotLight` | React Three Fiber | Yes (maps to `THREE.SpotLight`) | Focused cone of light |
| `primitive` | React Three Fiber | Special (injects raw Three.js objects) | Renders pre-built object hierarchies |
| `Center` | @react-three/drei | No (helper component) | Auto-centers children at origin |
| `OrbitControls` | @react-three/drei | No (helper component) | Mouse/touch camera interaction |

The first three (lights) and `primitive` are **React Three Fiber core** — they map directly to Three.js classes. `Center` and `OrbitControls` are from **Drei**, a companion library of pre-built helpers. All of them render to WebGL, not to the DOM.
